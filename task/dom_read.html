<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>DOM_JS. Считываем информацию из DOM</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <nav>
    <!-- Добавить графическую ссылку -->
    <a href="index.html" class="logo-link">
      <img src="images/logo.png" alt="Логотип завода картонных коробок" class="logo-img">
    </a>
    
    <ul>
      <li><a href="index.html" class="nav-link">Главная</a></li>
      <li><a href="about.html" class="nav-link">О заводе</a></li>
      <li><a href="products.html" class="nav-link">Продукция</a></li>
      <li><a href="technologies.html" class="nav-link">Технологии</a></li>
      <li><a href="specs.html" class="nav-link">Характеристики</a></li>
      <li><a href="forms.html" class="nav-link">Контакты</a></li>
      <li>
        <a href="#" class="dropdown">DOM и JS</a>
        <ul>
          <!-- ДОБАВИТЬ КЛАСС active для текущей страницы -->
          <li><a href="dom_read.html" class="nav-link active">Считываем DOM</a></li>
          <li><a href="dom_translate.html" class="nav-link">Кириллица → Латиница</a></li>
          <li><a href="algorithm.html" class="nav-link">Алгоритмическая задача</a></li>
        </ul>
      </li>
      <li><a href="https://yandex.ru" target="_blank" rel="noopener">Наш поставщик</a></li>
    </ul>
  </nav>

  <!-- Внутренняя навигация -->
  <div id="top"></div>
  <h1>DOM_JS. Считываем информацию из DOM</h1>
  
  <div class="internal-nav">
    <a href="#passport">Паспортные данные</a> | 
    <a href="#dom-example">Пример считывания DOM</a> | 
    <a href="#screenshot">Скриншот DevTools</a> |
    <a href="#top">К началу страницы</a>
  </div>

  <!-- Раздел 1: Паспортные данные -->
  <div id="passport">
    <h2>Вторая страница паспорта:</h2>
    <p><b>Фамилия:</b> <span id="surname">Тухватшина</span></p>
    <p><b>Имя:</b> <span id="name">Эльвина</span></p>
    <p><b>Год рождения:</b> <span id="year">2005</span></p>
    <p><b>Пол:</b> женский</p>
    <p><b>Место рождения:</b> г. Туймазы</p>
    <p><b>Дата выдачи:</b> 11.03.2025</p>
    
    <h2>Третья страница паспорта:</h2>
    <p><b>Фамилия:</b> Тухватшина</p>
    <p><b>Имя:</b> Эльвина</p>
    <p><b>Год рождения:</b> 2005</p>
    <p><b>Кем выдан:</b> ОВД Люберецкого р-на г. Люберцы</p>
    <p><b>Код подразделения:</b> 770-001</p>
    <p><b>Адрес регистрации:</b> ул. Ленина, д. 8</p>
  </div>

  <!-- Раздел 2: Пример считывания DOM -->
  <div id="dom-example">
    <h3>Считываем фамилию, имя и год рождения:</h3>
    
    <div style="background: #f0f8ff; padding: 15px; border-radius: 5px; margin: 15px 0;">
      <h4>JavaScript код для получения данных:</h4>
      <pre style="background: #fff; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
// Получаем все элементы &lt;p&gt; на странице
const paragraphs = document.getElementsByTagName('p');

// Второй элемент &lt;p&gt; содержит фамилию
const surname = paragraphs[0].childNodes[1].textContent.trim();

// Третий элемент &lt;p&gt; содержит имя  
const name = paragraphs[1].childNodes[1].textContent.trim();

// Четвертый элемент &lt;p&gt; содержит год рождения
const year = paragraphs[2].childNodes[1].textContent.trim();

// Выводим результат
console.log('Фамилия:', surname);
console.log('Имя:', name);
console.log('Год рождения:', year);</pre>
    </div>

    <button onclick="showPassportData()" class="form-submit">Считать данные из DOM</button>
    <button onclick="showConsoleData()" class="form-submit" style="background: #27ae60;">Вывести в консоль</button>
    
    <p id="result" style="font-weight: bold; color: #2c3e50; margin-top: 15px; padding: 10px; background: #e8f4f8; border-radius: 4px;"></p>
    
    <div id="dom-structure" style="margin-top: 20px;">
      <h4>Структура DOM элементов:</h4>
      <ul>
        <li><code>document.getElementsByTagName('p')</code> - получает ВСЕ элементы &lt;p&gt;</li>
        <li><code>[0]</code> - первый элемент &lt;p&gt; (индексация с 0)</li>
        <li><code>.childNodes[1]</code> - второй дочерний узел (текст после &lt;b&gt;)</li>
        <li><code>.textContent</code> - получает текстовое содержимое</li>
        <li><code>.trim()</code> - удаляет пробелы по краям</li>
      </ul>
    </div>
  </div>

  <!-- Раздел 3: Скриншот DevTools -->
  <div id="screenshot">
    <h3>Скриншот консоли браузера с результатами:</h3>
    
    <div style="background: #fff8e1; padding: 15px; border-radius: 5px; margin: 15px 0; border: 1px solid #ffd54f;">
      <p><strong>Инструкция для получения скриншота:</strong></p>
      <ol>
        <li>Откройте инструменты разработчика (F12 или Ctrl+Shift+I)</li>
        <li>Перейдите на вкладку "Console" (Консоль)</li>
        <li>Нажмите кнопку "Вывести в консоль" выше</li>
        <li>Сделайте скриншот консоли с результатами</li>
      </ol>
    </div>
    
    <figure>
      <img src="images/dom_screenshot.jpg" alt="Скриншот DevTools с результатами" width="600" style="border: 2px solid #ccc; border-radius: 4px;">
      <figcaption>Пример скриншота консоли браузера с полученными данными из DOM</figcaption>
    </figure>
    
    <p><em>Примечание: Создайте реальный скриншот с вашего компьютера и замените изображение.</em></p>
  </div>

  <!-- Кнопка для проверки всех данных -->
  <div style="text-align: center; margin: 30px 0;">
    <button onclick="checkAllData()" class="form-submit" style="background: #8e44ad;">Проверить все данные паспорта</button>
    <div id="all-data-result" style="margin-top: 15px;"></div>
  </div>

  <!-- Ссылка наверх -->
  <div class="page-footer-links">
    <a href="#top">Вернуться к началу страницы</a> | 
    <a href="index.html">На главную страницу</a> |
    <a href="dom_translate.html">Следующая: Кириллица → Латиница</a>
  </div>

  <script>
    // Функция для считывания данных из DOM (как в задании)
    function showPassportData() {
      // Получаем все элементы <p>
      const paragraphs = document.getElementsByTagName('p');
      
      // Проверяем, что есть достаточно элементов
      if (paragraphs.length < 3) {
        document.getElementById('result').textContent = 'Ошибка: Не найдены элементы <p>';
        return;
      }
      
      // Получаем данные как указано в задании
      // Индексация: 0, 1, 2 - первые три <p> элемента
      const surname = paragraphs[0].childNodes[1].textContent.trim();
      const name = paragraphs[1].childNodes[1].textContent.trim();
      const year = paragraphs[2].childNodes[1].textContent.trim();
      
      // Выводим результат
      const resultElement = document.getElementById('result');
      resultElement.innerHTML = `
        <strong>Полученные данные из DOM:</strong><br>
        • Фамилия: <span style="color: #e74c3c">${surname}</span><br>
        • Имя: <span style="color: #e74c3c">${name}</span><br>
        • Год рождения: <span style="color: #e74c3c">${year}</span><br>
        <small style="color: #7f8c8d">(получено через document.getElementsByTagName('p')[n].childNodes[1].textContent)</small>
      `;
      
      // Подсвечиваем полученные данные в паспорте
      highlightPassportData(surname, name, year);
    }
    
    // Функция для вывода в консоль
    function showConsoleData() {
      const paragraphs = document.getElementsByTagName('p');
      const surname = paragraphs[0].childNodes[1].textContent.trim();
      const name = paragraphs[1].childNodes[1].textContent.trim();
      const year = paragraphs[2].childNodes[1].textContent.trim();
      
      console.log('=== ДАННЫЕ ИЗ DOM ===');
      console.log('Фамилия:', surname);
      console.log('Имя:', name);
      console.log('Год рождения:', year);
      console.log('=====================');
      
      // Показываем сообщение пользователю
      document.getElementById('result').textContent = 
        'Данные выведены в консоль браузера (F12 → Console)';
    }
    
    // Функция для подсветки данных в паспорте
    function highlightPassportData(surname, name, year) {
      // Сбрасываем предыдущую подсветку
      const spans = document.querySelectorAll('#passport span');
      spans.forEach(span => {
        span.style.backgroundColor = '';
        span.style.padding = '';
        span.style.borderRadius = '';
      });
      
      // Подсвечиваем текущие данные
      document.getElementById('surname').style.backgroundColor = '#ffeb3b';
      document.getElementById('surname').style.padding = '2px 5px';
      document.getElementById('surname').style.borderRadius = '3px';
      
      document.getElementById('name').style.backgroundColor = '#ffeb3b';
      document.getElementById('name').style.padding = '2px 5px';
      document.getElementById('name').style.borderRadius = '3px';
      
      document.getElementById('year').style.backgroundColor = '#ffeb3b';
      document.getElementById('year').style.padding = '2px 5px';
      document.getElementById('year').style.borderRadius = '3px';
      
      // Убираем подсветку через 3 секунды
      setTimeout(() => {
        spans.forEach(span => {
          span.style.backgroundColor = '';
          span.style.padding = '';
          span.style.borderRadius = '';
        });
      }, 3000);
    }
    
    // Функция для проверки всех данных
    function checkAllData() {
      const paragraphs = document.getElementsByTagName('p');
      let resultHTML = '<h4>Все данные паспорта:</h4><ul>';
      
      // Выводим все элементы <p>
      for (let i = 0; i < paragraphs.length; i++) {
        const p = paragraphs[i];
        const boldText = p.querySelector('b') ? p.querySelector('b').textContent : 'Нет тега <b>';
        const textContent = p.textContent.replace(boldText, '').trim();
        
        resultHTML += `<li><strong>p[${i}]:</strong> ${boldText} ${textContent}</li>`;
      }
      
      resultHTML += '</ul>';
      
      document.getElementById('all-data-result').innerHTML = resultHTML;
    }
    
    // Автоматически считываем данные при загрузке страницы
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Страница "Считываем DOM" загружена');
      console.log('Используйте кнопки для работы с DOM');
    });
  </script>
  
  <script src="script.js"></script>
</body>
</html>
